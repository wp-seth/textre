=head1 DESCRIPTION

this program lets you change text one or many text-files in-place and recursively 
by using regular expressions. 

=head1 SYNOPSIS

textre [options]

  -s  --searchRE=s           perl-like search-and-replace pattern 
                              s/findRE/replaceRE/, here written as 
                              -s '/findRE/REPLACE/' where
                               findRE    = search pattern, i.e., text to be replaced
                               replaceRE = replacement
  -f, --filesRE=s            files to search (default = several typical textfiles, 
                              see --show-default-filesRE)
  -c, --charwise             don't read files linewise (default), but charwise
  -k, --keep-timestamp       keep original timestamp (default = no)
  -L, --lines=s              replace only in lines s, s is interpreted as a regexp, 
                              default = all lines
  -r, --recursively          search subdirectories recursively 
                              (default = only present directory)
      --show-default-filesRE show default filesRE and exit
  -t, --test                 don't change anything, just print possible changes to
                              screen

special text modifying / post processing (diff won't be displayed, if -c is set):

  -g, --germanshit           convert äÄöÖüÜß to ae, ..., ss
      --umlauts2tex          convert äÄöÖüÜß to \"a, \"A, ..., {\ss}
      --tex2umlauts          convert "a, \"a, ..., "s, {\ss} to äÄöÖüÜß
  -l, --lower-case           convert all to lower case
  -u, --upper-case           convert all to upper case

meta:

  -V, --version              display version and exit.
  -h, --help                 display brief help
      --man                  display long help (man page)
  -q, --silent               same as --verbose=0
  -v, --verbose              same as --verbose=1 (default)
  -vv,--very-verbose         same as --verbose=2
  -v, --verbose=x            grade of verbosity
                              x=0: no output
                              x=1: default output
                              x=2: much output

some examples:

  textre -s /bratwurst/gruenkohl/i
    replace every occurence of 'bratwurst' (case-insensitive) by 'gruenkoehl' in any
    standard text file.

  textre -s /blutwurst/salat/ -L='^123$'
    replace every occurence of 'blutwurst' by 'salat' in line 123 in any standard 
    text file.

  textre --tex2umlauts -f 'somelatexfile\.tex'
    replace all tex-like umlauts with real unicode umlauts in all files that match 
    .*somelatexfile\.tex.*

  textre -s '/(\d)(\d)/$2$1/' -f='(\.htm|\.txt)$' -r
    switch all pairs of digits in all .htm and .txt files

  note that in windows you have to use double quotes instead of single quotes.

=head1 OPTIONS

=head2 GENERAL

=over 8

=item B<--charwise>, B<-c>

don't read files linewise (default), but charwise in a whole string, such that
replacements across several lines are possible.

=item B<--filesRE>=I<string>, B<-F> I<string>

restrict replacements to files given by regexp I<string> (default ".", i.e., all 
files)

=item B<--keep-timestamp>, B<-k>

keep original timestamp (atime and mtime). default = set mtime to present time

=item B<--lines>=I<regexp>, B<-L> I<regexp>

replace only in lines where the line numbers (starting from 0) match I<regexp>. 
default = '.', i.e., all lines

=item B<--recursive>, B<-r>

search subdirectories recursively

=item B<--searchRE>=I<string>, B<-s> I<string>

perl-like search-and-replace pattern 

  s/findRE/replaceRE/

here written as 

  -s '/findRE/REPLACE/'
	
where

  findRE    = search pattern, i.e., text to be replaced
  replaceRE = replacement

=item B<--show-default-filesRE>

show default value of filesRE and exit.

=item B<--test>, B<-t>

don't change anything, just print possible changes to screen

=back

=head2 POST PROCESSING

param B<--searchRE>=I<string> is not mandatory when using one of these params.

however, if B<--searchRE>=I<string> _and_ one of these params is used, then the 
normal replacement (B<--searchRE>=I<string>) will be done first and the post 
processing will be done afterwards. actually that is the reason, why it is called 
_post_ processing and not _pre_ processing. if you want to change the order, just 
call textre twice, e.g.,

 textre -g ...
 textre -s '/.../.../'

=over 8

=item B<--germanshit>, B<-g>

convert äÄöÖüÜß to ae, ..., ss

=item B<--umlauts2tex>, B<->

convert äÄöÖüÜß to \"a, \"A, ..., {\ss}

=item B<--tex2umlauts>, B<->

convert "a, \"a, ..., "s, {\ss} to äÄöÖüÜß

=item B<--lower-case>, B<-l>

convert all to lower case

=item B<--upper-case>, B<-u>

convert all to upper case

=back

=head2 META

=over 8

=item B<--version>, B<-V>

prints version and exits.

=item B<--help>, B<-h>, B<-?>

prints a brief help message and exits.

=item B<--man>

prints the manual page and exits.

=item B<--verbose>=I<number>, B<-v> I<number>

set grade of verbosity to I<number>. if I<number>==0 then no output
will be given, except hard errors. the higher I<number> is, the more 
output will be printed. default: I<number> = 1.

=item B<--silent, --quiet, -q>

same as B<--verbose=0>.

=item B<--very-verbose, -vv>

same as B<--verbose=3>. you may use B<-vvv> for B<--verbose=4> a.s.o.

=item B<--verbose, -v>

same as B<--verbose=2>.

=back

=head1 LICENCE

Copyright (c) 2008-2017, seth
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above copyright notice, this
  list of conditions and the following disclaimer.

* Redistributions in binary form must reproduce the above copyright notice,
  this list of conditions and the following disclaimer in the documentation
  and/or other materials provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

originally written by seth (see https://github.com/wp-seth/textre)

